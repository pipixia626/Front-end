
#

## 用户空间
栈：存放动态分配的内存段，地址由上往下

堆：存放局部变量和函数

BSS段：存放未初始化的全局变量

数据段：存放静态变量和初始化的全局变量

代码段：存放可执行文件的操作指令


## 虚拟地址
虚拟内存，也就是把不连续的物理内存块映射到虚拟地址空间（virtual address space)。使内存页对于应用程序来说看起来是连续的。一般而言，出于程序安全性和物理内存可能不足的考虑，我们的程序都会运行在虚拟内存上。
## 连续内存存储管理
### 固定分区
内部碎片和外部碎片都有
### 动态分配
不会有内部碎片，但不会有外部碎片
# 非连续内存存储管理

## 分段和分页
虚拟地址和物理地址的映射主要是通过分段和分页技术实现的

### 分页
将内存空间分为一个个大小相等的分区(linux 4kB)
每一个分区是一个页框（内存块）-页框号(内存块号) 从0开始

将用户进程的地址空间也分为与页框大小相等的一个个区域
称为页或页面，每一个页面也有一个编号->页号 也是从0开始

一个进程最后的一个页面一般也没有一个页框大(内部碎片)

进程的页面域内存的页框有一一对应关系(没有先后顺序，连续顺序)

### 如何实现地址的转换
连续内存地址分配(动态重定位的方式)
模块在内存中的"起始地址"+"目标内存单元相对于起始位置的"偏移量"(逻辑地址)

离散地址分配 物理地址= 页面对应在内存中的起始地址+页内偏移量

页号：逻辑地址/页面大小
页内偏移量：逻辑地址%页面大小

### 页表
为了知道进程的每个页面在内存中存放的位置，操作系统要为每个进程建立一张页表

页表记录进程页面和实际存放的内存块之间的对应关系
页表结构

页号     块号

0        3

1        6

2        4
## 分段和分页的区别
