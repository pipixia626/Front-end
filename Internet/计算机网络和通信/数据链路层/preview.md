# 数据链路层

## 作用
1. 向网络层提供一个定义良好的服务接口
2. 处理传输错误
3. 调节数据流，确保慢速接收的接收方不会被快速的发送方的数据淹没

即 封装成帧，透明传输，差错检测

## 封装成帧
1. 字节填充 ->特殊的字符
2. 位填充每个帧都使用相同的帧

## 透明传输
解决封装成帧用的起始分界符和结束分界符
1. 对于字节填充，遇到特殊字符就添加多一个，然后交给上层处理
2. 遇到5个连续的1就添加0
## 差错检测

出现的情形
1. 数据比特错误 0->1 ；1->0
2. 帧丢失
3. 帧重复
4. 帧失序

## 校验
1. 奇偶校验
2. 循环冗余校验 CRC 多项式编码
3. 校验和 ->高层协议
## 数据链路层的信道
1. 点对点信道->点对点传输  
常用ppp协议，单播
2. 广播信道->广播传输
一对多的广播通信，多路访问->共享信道 ->CSMA/CD
### PPP协议
### 多路访问协议 CSMA
1. 载波监听
2. 冲突检测
3. 坚持性策略
   1. 非坚持
   2. 坚持策略
      1. 1-坚持  发送概率为1
      2. p-坚持  发送概率为p
4. 冲突窗口
5. 强化冲突
6. 二进制退避
#### 特点
1. 半双工传输方式
2. 共享信道带宽
3. 传输的不确定性
4. 无确认无连接
## 局域网
### 体系结构
在数据链路层中分为 逻辑链路层用于提供标准的OSI服务，和媒体介质访问控制层用于关注接入的媒体和输入输出

### 传统以太网
#### MAC地址
#### 主要设备
1. 网络适配器
   1. 帧的封装和解封装
   2. 提供缓存，并实现发送和接收数据的转化
   3. 帧的定界和寻址
   4. 实现CSMA/CD协议
   5. 差错校验
2. 集线器：多接口的中继器，每个接口连接一台计算机，形成以计算机为中心的星状拓扑结构
   
### 交换式以太网
传统以太网缺点：
1. 多个节点位于冲突域，共享一个传输信道，在任意时刻只运行一个节点发送帧，效率低
2. 各节点共享固定的网络带宽
3. 难以构造较大规模的网络
因此交换式以太网采用星型拓扑结构，不适应CSMA/CD，没有争用期，以全双工的方式工作，但仍采用以太网的帧接口

原理：通过自主学习生成并维护一个包含MAC地址和相对应接口的映射交换表，并根据该交换表进行帧的转发
