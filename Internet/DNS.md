# DNS（Domain name system)


## 定义和作用

在Internet 上完成从名字到地址的映射

本质是一种层次的，基于域的命名方案，用一个分布式数据库系统加以实现的

### 主要用途
将主机名映射成IP地址

### 使用方法
为了将一个名字映射成IP地址，应用程序调用一个名为解析器(resolver)的库程序；
并将名字作为参数传递给此程序，解析器向本地DNS服务器发送一个包含名字的请求报文；
本地DNS服务器查询该名字,并且返回一个包含该名字对应IP地址的响应报文给解析器，然后解析器再将IP地址返回给调用方
查询报文和响应报文都做为UDP数据包发送

## 域名资源记录

每个域都有一组与它关联的资源记录，这些记录组成了DNS数据库，对于一台主机来说，最常见的资源记录就是它的IP地址
当域名解析器把一个域名传递给DNS时，它所获得的DNS返回的结构就是与该域名相关联的资源记录

### 基本功能
因此DNS基本功能就是将域名映射到资源记录

### 资源记录格式

Domian_name :指出这条记录使用于哪个域
time_to_live：记录的稳定程度
class:类别，大多数都是Internet
type:
value:

## 域名服务器

为了避免由于单个信息源带来的问题，DNS名字空间被划分为一些不重叠的区域（zones）

### 域名解析
查询一个名字和找出其对应地址的过程称为域名解析

### 递归查询和迭代查询
一、主机向本地域名服务器的查询一般都是采用递归查询。

所谓递归查询就是：如果主机所询问的本地域名服务器不知道被查询的域名的IP地址，那么本地域名服务器就以DNS客户的身份，

向其它根域名服务器继续发出查询请求报文(即替主机继续查询)，而不是让主机自己进行下一步查询。

因此，递归查询返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。

二、本地域名服务器向根域名服务器的查询的迭代查询。

迭代查询的特点：当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地服务器：“你下一步应当向哪一个域名服务器进行查询”。

然后让本地服务器进行后续的查询。根域名服务器通常是把自己知道的顶级域名服务器的IP地址告诉本地域名服务器，让本地域名服务器再向顶级域名服务器查询。

顶级域名服务器在收到本地域名服务器的查询请求后，要么给出所要查询的IP地址，要么告诉本地服务器下一步应当向哪一个权限域名服务器进行查询。
























