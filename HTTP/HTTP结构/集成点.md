# 集成点

在HTTP和其他协议及应用程序之间起到接口作用的网关
允许不同类型的Web应用程序互相通信的应用程序接口
允许用户在HTTP连接上发送非HTTP流量的隧道
作为一种简化的HTTP代理，一次将数据转发一跳的中继

## 8.1 网关

网关是资源和应用程序之间的粘合剂，应用程序可以通过HTTP或其他已定义的接口请求网关来处理某条请求，网关可以提供一条响应，网关可以向数据库发送查询语句，或者生成动态内容，就像一个门一样，进去一条请求

服务器端网关：通过HTTP与客户端对话，通过其他协议与服务器通信

客户端网关：通过其他其他协议与客户端对话，通过HTTP与服务器进行通信

## 8.2 协议网关

### 8.2.1 服务器端Web网关
请求流入原始服务器时，服务器端web网关会将客户端HTTP请求转为其他协议
### 8.2.2 服务器端安全网关
对所有输入web加密，以提供额外的隐私和安全性保护
### 8.2.3 客户端安全加速网关
位于Web服务器之前，通常作为不可见的拦截网关或者反向代理使用

## 8.3 资源网关
通用网关接口(common gateway interface) CGI 
Web服务器可以用它来装载程序以响应对特定URL的HTTP请求，并收集程序的输出数据，将其放在HTTP响应中

### 8.3.1 CGI
对于客户端来说是不可见的
在服务器和众多的资源类型之间提供一种简单的，函数形式的粘和方式，用来处理各种需要的转化，这个接口还能很好地保护服务器，防止一些糟糕的扩展对它造成的破坏

### 8.3.2 服务器扩展API

提供了一种简洁的接口方式，来将自己的代码扩展到服务器上

## 8.4 应用程序接口和Web服务

## 8.5 隧道
可以通过HTTP应用程序访问使用非HTTP协议的应用程序

最常见的原因就是要在HTTP连接中嵌入非HTTP流量，这样，这类流量就可以穿过只允许Web流量通过的防火墙

### 8.5.1 connect

1. 客户端发送Connect请求
2. 网关隧道端点打开到端口443的TCP连接
3. 连接建立
4. 网关隧道点返回HTTP连接就绪报文
5. 开始传输数据

### 8.5.2 数据隧道，定时和连接管理

### 8.5.3 SSL隧道
最初Web隧道是为了通过防火墙来传输加密的SSL流量，来提高安全性，但有些协议无法通过传统的代理服务器转发，隧道会通过一条HTTP请求来传输SSL流量，以穿过80的HTTP防火墙
，为了让其可以穿过->将原始的加密数据放在HTTO报文中，通过普通的HTTP信道进行传输

缺点：
客户端到网关之间的连接是普通非安全的HTTP
尽管代理是已认证主体，但客户端无法对远端服务器执行SSL客户端认证

### 8.5.4 隧道认证

## 8.6 中继
没有安全遵循HTTP规范的简单HTTP代理，中继负责处理HTTP中建立连接的部分，对字节进行盲目转发