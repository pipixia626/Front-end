# 代理

## 6.1 Web的中间实体
即是客户端又是服务端

### 6.1.1 私有和共享代理
单个和多个的区别

### 6.1.2 代理和网关的对比
代理连接的是两个或多个使用相同协议的应用程序，而网关连接的则是两个或多个使用不同协议的端点

## 6.2 使用原因

改善安全性(防火墙)，提高性能(web缓存)，监视流量并对其修改

## 6.3 代理去往何处
部署问题
层级连接方式
先将网络流量直接导入代理服务器中
### 6.3.1代理服务器的部署

1. 出口代理 :将代理固定在本地网络的出口点，以便控制本地与大型因特网之间的流量
2. 入口代理 ：常常被方在ISP访问点上，用以处理来自客户的聚合请求,ISP使用缓存代理来存储常用文档的副本来提高下载速度
3. 反向代理:网络边缘，处理所有传给web服务器的请求
4. 网络交换代理:将具有足够能力的代理放在网络之间的因特网对等交换点上，通过缓存来减轻因特网节点的拥塞，并对流量进行监控

### 6.3.2 代理的层次结构

### 6.3.3 代理如何获取流量

1. 修改客户端
2. 修改网络
3. 修改DNS命名空间
4. 修改Web服务器 重定向
## 6.4 配置代理

## 6.5 代理相关问题
1. 请求报文的URI不同  完整的URI和不完整的 历史问题
2. 与虚拟主机一样的问题 缺省 方案/主机/端口

## 6.6 反向代理（Reverse Proxy）
实际运行方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器
